<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>form 객체</title>
</head>
<body onload="init()">
    <form name="test" method="get" action="" onsubmit="register()" onreset="rewrite()" >
        아이디 : <input type="text" name="id" placeholder="아이디를 입력하시오" value="" onchange="change()"><br>
        비밀번호 : <input type="password" name="pw" placeholder="비밀번호를 입력하시오"  value="">(8자 이상 12자 이하)<p>
        하고 싶은말 : <p><textarea name="memo" id="" cols="50" rows="7"></textarea><p>
        
        연령대<p>
        <input type="radio" name="age" value="10">10대
        <input type="radio" name="age" value="20">20대
        <input type="radio" name="age" value="30">30대
        <input type="radio" name="age" value="40">40대<p>

        개인정보동의<p>
        <input type="checkbox" name="chkall" onclick="checkall()">개인정보 전체 선택<p></input>
        <input type="checkbox" name="chk1" value="1">개인정보수집<p></input>
        <input type="checkbox" name="chk2" value="2">개인정보조회<p></input>
        <input type="checkbox" name="chk3" value="3">개인정보제공<p></input>

        <input type="submit" name="btn1" value="등록하기">
        <input type="reset" name="btn2" value="다시작성" >
        <input type="button" name="btn3" value="전체선택" onclick="selectedAll()" ><br>
        <input type="button" name="btn4" value="이름바꾸기" onclick="changeName()">
    </form>
    <script>
        // 개인정보 전체 선택하기
        function checkall(){
            for(let i=4;i<7;i++){
                document.test.elements[4].click()
                document.test.elements[5].click()
                document.test.elements[6].click()
            }
            // document.test.elements[4].click()
            // document.test.elements[5].click()
            // document.test.elements[6].click()
        }
        // 이름 바꾸기 버튼(toggle btn)
        var btoggle = true;
        function changeName(){
            if(btoggle){
                document.test.btn1.value = "안등록하기"
                btoggle = !btoggle; // 부정연산자로 표현 false 출력
            } else{
                document.test.btn1.value = "등록하기"
                btoggle = !btoggle; // true 할당
            }

        }
        // 전체 선택 버튼
        function selectedAll(){
            document.test.memo.select();
        }
        // input 내용이 변경됐을 때
        // function change(){
        //     alert("아이디가 변경되었습니다.")
        // }
        // 새로고침 되자마자 시행되는 함수
        function init(){
            document.test.id.focus()
        }
        function register()
        {
            // 어떤 radio 버튼이 체크됐는지 확인하는 코드
            var rlen = document.test.age.length
            for(var i =0;i<rlen;i++){
               if(document.test.age[i].checked==true){
                alert(document.test.age[i].value + "대 이군요")
               } 
            }

            var checked1 = document.test.chk1.checked; // checked 값이 없으면 false 반환
            var checked2 = document.test.chk2.checked;
            var checked3 = document.test.chk3.checked;

            if(document.test.id.value ==""){
                alert("아이디를 입력하세요")
            } else if(document.test.pw.value==""){
                alert("비밀번호를 입력하세요")
            } else{
                var len = document.test.pw.value.length
                if(len<8 || len>12){
                    alert("비밀번호는 8자 이상 12자 이하로 입력하세요")
                } else{
                    if(checked1 && checked2&&checked3){
                        document.test.submit();
                        alert("회원가입을 축하합니다.")
                    } else{
                        alert('모든 항목을 체크해주세요')
                    }
                }
            }
        }
        function rewrite()
        {
            document.test.reset();
        }
        // document.write(document.test.length+"</br>")
        // document.write(document.test.method+"</br>")
        // document.write("<p>")

        // for(var i=0;i<document.test.length;i++){
        //     document.write(document.test.elements[i].type+"</br>")
        //     document.write(document.test.elements[i].value+"</br>")
        // }
        // document.write("<p>")
        // for(var i=0;i<document.test.length;i++){
        //     document.write(document.test.elements[i].name+"</br>")
        // }
    </script>
</body>
</html>